<#-- 引入布局指令的命名空间 -->
<#import "../layout.html" as main>
<#assign ctx=req.getContextPath()>
<#-- 调用布局指令 -->
<@main.nexmoe>
<link class="dplayer-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/dplayer/dist/DPlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/dplayer/dist/DPlayer.min.js"></script>
<div class="mdui-container-fluid">
	<div class="nexmoe-item">
		<div class="mdui-center" id="dplayer"></div>
		<br>
		<div class="mdui-typo">
			<div class="mdui-m-t-2 mdui-m-b-1">
				<label class="mdui-text-color-black-secondary">下载地址：</label>
				<code class="js-icon-code-copy" data-clipboard-text="${realUrl}" mdui-tooltip="{content: '点击复制'}">${realUrl}</code>
			</div>
			<div class="mdui-m-t-3 mdui-m-b-1">
				<label class="mdui-text-color-black-secondary">HTML 引用地址：</label>
				<code class="js-icon-code-copy" data-clipboard-text="<video><source src=&quot;${realUrl}&quot; type=&quot;video/mp4&quot;></video>" mdui-tooltip="{content: '点击复制该代码'}">
					&lt;video&gt;&lt;source src="${realUrl}" type="video/mp4"&gt;&lt;/video&gt;
				</code>
			</div>
		</div>
	</div>
</div>
<script>
const dp = new DPlayer({
	container: document.getElementById('dplayer'),
	lang:'zh-cn',
	video: {
	    url: '${item.downloadUrl}',
	    pic: '<#if item.thumb??>${item.thumb}</#if>',
	    type: 'auto'
	}
});
</script>
<a href="${item.downloadUrl}" class="mdui-fab mdui-fab-fixed mdui-ripple mdui-color-theme-accent"><i class="mdui-icon material-icons">file_download</i></a>
</@main.nexmoe>