<#-- 引入布局指令的命名空间 -->
<#import "../layout.html" as main>
<#assign ctx=req.getContextPath()>
<#-- 调用布局指令 -->
<@main.material>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<div class="mdui-container-fluid">
	<center>
		<div id="aplayer"></div>
	</center>
	<br>
	<div class="mdui-typo">
		<div class="mdui-m-t-2 mdui-m-b-1">
			<label class="mdui-text-color-black-secondary">下载地址：</label>
			<code class="js-icon-code-copy" data-clipboard-text="${realUrl}" mdui-tooltip="{content: '点击复制'}">${realUrl}</code>
		</div>
		<div class="mdui-m-t-3 mdui-m-b-1">
			<label class="mdui-text-color-black-secondary">HTML 引用地址：</label>
			<code class="js-icon-code-copy" data-clipboard-text="<audio src=&quot;${realUrl}&quot;></audio>" mdui-tooltip="{content: '点击复制'}">&lt;audio src="${realUrl}">&lt;/audio&gt;</code>
		</div>
	</div>
</div>

<a href="${item.downloadUrl}" class="mdui-fab mdui-fab-fixed mdui-ripple mdui-color-theme-accent"><i class="mdui-icon material-icons">file_download</i></a>
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<script>
const ap = new APlayer({
    container: document.getElementById('aplayer'),
    audio: [{
        name: '${item.name}',
        artist: 'OneDrive-x Preview',
        url: '${item.downloadUrl}',
        cover: '<#if item.thumb??>${item.thumb}&width=176&height=176</#if>'
    }]
});
</script>
</@main.material>